"""
Distutils script for building cython .c and .so files. Call it with:
python setup.py build_ext --inplace
"""

from distutils.core import setup
from Cython.Build import cythonize

#from Cython.Compiler.Options import directive_defaults
#directive_defaults['profile'] = True

compile_cy_py = True
#compile_cy_py = False

cy_modules = [
    'pentai/base/board_strip.pyx',
    'pentai/ai/length_lookup_table.pyx',
    ]
if compile_cy_py:
    cy_modules.extend([
        'pentai/base/bit_reverse.pyx',
        'pentai/base/game_state.pyx',
        'pentai/base/board.pyx',
        'pentai/base/direction_strips.pyx',
        'pentai/ai/priority_filter.pyx',
        'pentai/ai/priority_filter_2.pyx',
        'pentai/ai/utility_stats.pyx',
        'pentai/ai/utility_calculator.pyx',
        'pentai/ai/alpha_beta.pyx',
        'pentai/ai/ab_state.pyx',
    ])

setup(
        ext_modules = cythonize(
            cy_modules
        ),
    )
